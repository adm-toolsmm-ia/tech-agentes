# ===========================================
# Tech Arauz CI/CD Pipeline Reference
# ===========================================
#
# NOTA: O pipeline real está em .github/workflows/ci.yml
# Este arquivo serve apenas como documentação de referência.
#
# Pipeline Atual:
# - ci.yml: Lint, Test, Build, Deploy Staging
# - pr-check.yml: Validação de PRs
#
# Para configurar deploy na Vercel:
# 1. Conecte o repositório na dashboard da Vercel
# 2. Configure as variáveis de ambiente:
#    - VITE_SUPABASE_URL
#    - VITE_SUPABASE_ANON_KEY
# 3. Deploy automático acontece em cada push para main
#
# ===========================================

name: CI/CD Reference

# Este é um arquivo de referência apenas.
# O pipeline real está em .github/workflows/

triggers:
  - main
  - develop
  - "feature/**"

jobs:
  lint:
    description: "ESLint check"
    command: "npm run lint"

  test:
    description: "Vitest unit tests"
    command: "npm test"

  build:
    description: "Vite production build"
    command: "npm run build"
    outputs:
      - dist/

  deploy-staging:
    description: "Deploy to Vercel staging"
    requires:
      - lint
      - test
      - build
    trigger: "push to main"

  deploy-production:
    description: "Deploy to production"
    requires:
      - deploy-staging
      - manual-approval
    trigger: "release tag"
